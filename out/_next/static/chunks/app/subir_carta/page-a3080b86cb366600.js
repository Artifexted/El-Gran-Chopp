(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[294],{414:(e,a,t)=>{Promise.resolve().then(t.bind(t,4129))},4129:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>o});var l=t(5155),r=t(2115),s=t(2651),n=t(2818);let o=()=>{let[e,a]=(0,r.useState)(!1),[t,o]=(0,r.useState)(""),[c,i]=(0,r.useState)(""),[d,p]=(0,r.useState)(null),[u,h]=(0,r.useState)(null),[b,v]=(0,r.useState)(!1),x=(e,a)=>{var t;let l=null===(t=e.target.files)||void 0===t?void 0:t[0];l&&"application/pdf"===l.type?("salon"===a&&p(l),"delivery"===a&&h(l)):alert("Solo se permiten archivos PDF.")},m=async()=>{if(!d&&!u){alert("Debes seleccionar al menos un archivo.");return}v(!0);try{d&&await _(d,"carta-salon"),u&&await _(u,"carta-delivery"),alert("Archivos actualizados exitosamente.")}catch(e){console.error("Error al subir archivos:",e),alert("Hubo un error al subir los archivos.")}finally{v(!1)}},_=async(e,a)=>{let t=new FormData;if(t.append("file",e),t.append("resource_type","raw"),t.append("upload_preset","Carta GChopp"),t.append("public_id",a),t.append("folder","gchopp_carta"),200!==(await s.A.post("https://api.cloudinary.com/v1_1/".concat(n.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME,"/upload"),t)).status)throw Error("Error al subir el archivo a Cloudinary")};return e?(0,l.jsxs)("div",{className:"p-8 text-center",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold",children:"Subir Archivos PDF"}),(0,l.jsxs)("div",{className:"my-4",children:[(0,l.jsx)("label",{className:"block mb-2",children:"Carta Sal\xf3n"}),(0,l.jsx)("input",{type:"file",accept:"application/pdf",onChange:e=>x(e,"salon")})]}),(0,l.jsxs)("div",{className:"my-4",children:[(0,l.jsx)("label",{className:"block mb-2",children:"Carta Delivery"}),(0,l.jsx)("input",{type:"file",accept:"application/pdf",onChange:e=>x(e,"delivery")})]}),(0,l.jsx)("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:m,disabled:b,children:b?"Subiendo...":"Actualizar Archivos"})]}):(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-xl font-bold text-center",children:"Inicia sesi\xf3n"}),(0,l.jsxs)("form",{className:"flex flex-col items-center justify-center",children:[(0,l.jsx)("input",{type:"text",placeholder:"Usuario",className:"border rounded p-2 m-2 text-black",value:t,onChange:e=>o(e.target.value)}),(0,l.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",className:"border rounded p-2 m-2 text-black",value:c,onChange:e=>i(e.target.value)}),(0,l.jsx)("button",{type:"submit",className:"bg-destacable text-black px-4 py-2 rounded",onClick:()=>{t===n.env.NEXT_PUBLIC_CHOPP_USERNAME&&c===n.env.NEXT_PUBLIC_CHOPP_PASSWORD?a(!0):(console.log(c),console.log(n.env.NEXT_PUBLIC_CHOPP_PASSWORD),alert("Usuario o contrase\xf1a incorrectos"))},children:"Ingresar"})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[651,441,517,358],()=>a(414)),_N_E=e.O()}]);